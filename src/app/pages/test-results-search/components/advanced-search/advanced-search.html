<ion-grid>
    <ion-row>
        <ion-col class="ion-align-self-center" size="18">
            <label id="advanced-search-test-centre-label">Test centre</label>
        </ion-col>
        <ion-col size="28">
            <ion-input placeholder="DTC number"
                       id="advanced-search-test-centre-input"
                       class="ion-input-styling"
                       type="text"
                       clearInput
                       (ionFocus)="setFocus('dtcNumber')"
                       (ionBlur)="setFocus(null)"
                       [ngClass]="{'input-focus': focusedElement === 'dtcNumber'}"
                       [(ngModel)]="dtcNumber"
                       (ionChange)="upperCaseAlphaNum($event)">
            </ion-input>
        </ion-col>
        <ion-col size="3"></ion-col>
        <ion-col class="ion-align-self-center" size="14">
            <label id="advanced-search-staff-id-label">Staff ID</label>
        </ion-col>
        <ion-col size="28">
            <ion-input id="advanced-search-staff-id-input"
                       type="text"
                       class="ion-input-styling custom-font-size"
                       clearInput
                       [attr.disabled]="importStaffNumber"
                       [attr.placeholder]="importStaffNumber ? importStaffNumber : 'DE number'"
                       [(ngModel)]="staffNumber"
                       (ionFocus)="setFocus('deNumber')"
                       (ionBlur)="setFocus(null)"
                       [ngClass]="{'input-focus': focusedElement === 'deNumber'}"
                       (ionChange)="upperCaseAlphaNum($event)">
            </ion-input>
        </ion-col>
    </ion-row>
    <ion-row>
        <ion-col>
            <hr class="advanced-search-divider"/>
        </ion-col>
    </ion-row>
    <ion-row>
        <ion-col class="ion-align-self-center">
            <label>Activity code</label>
        </ion-col>
        <ion-col size="22" class="input-padding">
            <ion-select
                    placeholder="All"
                    class="black-text"
                    (ionChange)="activitySelectChange($event.target.value)"
                    [interfaceOptions]="{cssClass:'mes-select', enableBackdropDismiss:false}">
                <ion-select-option [value]="activityCode" *ngFor="let activityCode of activityCodes; let first = first">
                    <span *ngIf="!first">{{activityCode.activityCode}} - </span>{{activityCode.description}}
                </ion-select-option>
            </ion-select>
        </ion-col>
        <ion-col class="ion-align-self-center">
            <label>Test category</label>
        </ion-col>
        <ion-col size="22" class="input-padding">
            <ion-select placeholder="All"
                        class="black-text"
                        (ionChange)="categorySelectChange($event.target.value)"
                        [interfaceOptions]="{cssClass:'mes-select', enableBackdropDismiss:false}">
                <ion-select-option [value]="category" *ngFor="let category of testCategories">{{category}}</ion-select-option>
            </ion-select>
        </ion-col>
    </ion-row>
    <ion-row>
        <ion-col>
            <hr class="advanced-search-divider"/>
        </ion-col>
    </ion-row>
    <ion-row class="ion-padding-top ion-padding-bottom">
        <ion-col class="ion-align-self-center" size="18">
            <label id="advanced-search-date-range-label">Date range</label>
        </ion-col>
        <ion-col size="32">
            <ion-datetime
                    id="advanced-search-start-date-picker"
                    [placeholder]= minStartDatePlaceholder
                    displayFormat="DD/MM/YYYY"
                    class="black-text"
                    [min]="minStartDate"
                    [max]="endDate ? endDate : today"
                    [(ngModel)]="startDate"
                    [pickerOptions]="customStartDateOptions">
            </ion-datetime>
        </ion-col>
        <ion-col class="ion-text-center" size="9">
            <label class="to-label" id="to-label">to</label>
        </ion-col>
        <ion-col size="32">
            <ion-datetime
                    id="advanced-search-end-date-picker"
                    [placeholder]=todayPlaceholder
                    displayFormat="DD/MM/YYYY"
                    doneText="Done"
                    [min]="startDate ? startDate : minStartDate"
                    [max]="today"
                    [(ngModel)]="endDate"
                    [pickerOptions]="customEndDateOptions">
            </ion-datetime>
        </ion-col>
    </ion-row>
    <ion-row>
        <ion-button
                id="advanced-search-button"
                [attr.disabled]="showSpinner ? 'true' : null"
                class="mes-primary-button search-tests" (click)="searchTests()">
            <h3 id="advanced-search-button-text">
                <ion-icon name="search" class="search-icon"></ion-icon>
                Search
            </h3>
        </ion-button>
        <ion-spinner class="search-spinner" id="advanced-search-spinner" name="bubbles"
                     *ngIf="showSpinner"></ion-spinner>
    </ion-row>
</ion-grid>
