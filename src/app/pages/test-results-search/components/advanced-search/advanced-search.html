<ion-grid>
    <ion-row>
        <ion-col class="ion-align-self-center" size="18">
            <label id="advanced-search-test-centre-label">Test centre</label>
        </ion-col>
        <ion-col size="28">
            <ion-input
                    [class.increase-height]="appComponent.getTextZoomClass() === 'text-zoom-x-large'"
                    placeholder="DTC number"
                    id="advanced-search-test-centre-input"
                    class="ion-input-styling"
                    type="text"
                    clearInput
                    (ionFocus)="setFocus('dtcNumber')"
                    (ionBlur)="setFocus(null)"
                    [ngClass]="{'input-focus': focusedElement === 'dtcNumber'}"
                    [(ngModel)]="dtcNumber"
                    (ionChange)="upperCaseAlphaNum($event)">
            </ion-input>
        </ion-col>
        <ion-col size="3"></ion-col>
        <ion-col class="ion-align-self-center" size="14">
            <label id="advanced-search-staff-id-label">Staff ID</label>
        </ion-col>
        <ion-col size="28">
            <ion-input
                    [class.increase-height]="appComponent.getTextZoomClass() === 'text-zoom-x-large'"
                    id="advanced-search-staff-id-input"
                    type="text"
                    class="ion-input-styling custom-font-size"
                    clearInput
                    [attr.disabled]="importStaffNumber"
                    [attr.placeholder]="importStaffNumber ? importStaffNumber : 'DE number'"
                    [(ngModel)]="staffNumber"
                    (ionFocus)="setFocus('deNumber')"
                    (ionBlur)="setFocus(null)"
                    [ngClass]="{'input-focus': focusedElement === 'deNumber'}"
                    (ionChange)="upperCaseAlphaNum($event)">
            </ion-input>
        </ion-col>
    </ion-row>
    <ion-row>
        <ion-col>
            <hr class="advanced-search-divider"/>
        </ion-col>
    </ion-row>
    <ion-row>
        <ion-col class="ion-align-self-center">
            <label>Activity code</label>
        </ion-col>
        <ion-col size="22" class="input-padding">
            <ion-select
                    placeholder="All"
                    class="black-text"
                    (ionChange)="activitySelectChange($event.target.value)"
                    [interfaceOptions]="{cssClass:'mes-select', enableBackdropDismiss:false}">
                <ion-select-option [value]="activityCode" *ngFor="let activityCode of activityCodes; let first = first">
                    <span *ngIf="!first">{{activityCode.activityCode}} - </span>{{activityCode.description}}
                </ion-select-option>
            </ion-select>
        </ion-col>
        <ion-col class="ion-align-self-center">
            <label>Test category</label>
        </ion-col>
        <ion-col size="22" class="input-padding">
            <ion-select placeholder="All"
                        class="black-text"
                        (ionChange)="categorySelectChange($event.target.value)"
                        [interfaceOptions]="{cssClass:'mes-select', enableBackdropDismiss:false}">
                <ion-select-option [value]="category"
                                   *ngFor="let category of testCategories">{{category}}
                </ion-select-option>
            </ion-select>
        </ion-col>
    </ion-row>
    <ion-row>
        <ion-col>
            <hr class="advanced-search-divider"/>
        </ion-col>
    </ion-row>
    <ion-row class="ion-padding-top ion-padding-bottom">
        <ion-col class="ion-align-self-center" size="18">
            <label id="advanced-search-date-range-label">Date range</label>
        </ion-col>
        <ion-col size="32">
            <ion-button (click)="styleDatePicker()">date</ion-button>
            <ion-datetime-button
                    class="date-picker"
                    datetime="datetime-from">
            </ion-datetime-button>
            <ion-modal [keepContentsMounted]="true" mode="ios" [backdropDismiss]="false">
                <ng-template>
                    <ion-datetime
                        #datetimeFrom
                        presentation="date"
                        id="datetime-from"
                        [min]="minStartDate"
                        [max]="endDate ? endDate : today"
                        [value]="startDate"
                        [(ngModel)]="minStartDate">
                        <ion-buttons slot="buttons">
                            <ion-button color="primary" (click)="handleClear(datetimeFrom, 'start')">Clear</ion-button>
                            <ion-button color="primary" (click)="handleDone(datetimeFrom, 'start')">Done</ion-button>
                        </ion-buttons>
                    </ion-datetime>
                </ng-template>
            </ion-modal>
        </ion-col>
        <ion-col class="ion-align-self-center" size="9">
            <label class="to-label" id="to-label">to</label>
        </ion-col>
        <ion-col size="32">
            <ion-datetime-button
                    class="date-picker"
                    datetime="datetime-to">
            </ion-datetime-button>
            <ion-modal [keepContentsMounted]="true" mode="ios" [backdropDismiss]="false">
                <ng-template>
                    <ion-datetime
                        #datetimeTo
                        presentation="date"
                        id="datetime-to"
                        [min]="startDate ? startDate : minStartDate"
                        [max]="today"
                        [value]="endDate"
                        [(ngModel)]="today">
                        <ion-buttons slot="buttons">
                            <ion-button color="primary" (click)="handleClear(datetimeTo, 'end')">Clear</ion-button>
                            <ion-button color="primary" (click)="handleDone(datetimeTo, 'end')">Done</ion-button>
                        </ion-buttons>
                    </ion-datetime>
                </ng-template>
            </ion-modal>
        </ion-col>
    </ion-row>
    <ion-row>
        <ion-button
                id="advanced-search-button"
                [attr.disabled]="showSpinner ? 'true' : null"
                class="mes-primary-button search-tests" (click)="searchTests()">
            <h3 id="advanced-search-button-text">
                <ion-icon name="search" class="search-icon"></ion-icon>
                Search
            </h3>
        </ion-button>
        <ion-spinner class="search-spinner" id="advanced-search-spinner" name="bubbles"
                     *ngIf="showSpinner"></ion-spinner>
    </ion-row>
</ion-grid>
