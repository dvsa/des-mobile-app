<ion-row>
  <ion-col size="20" class="ion-no-padding">
    <competency-button
      class="reverse-left-tick"
      [onTap]="toggleReverseLeft"
      [onPress]="toggleReverseLeft"
      [ripple]="false"
      [class.promoted]="displayPopover"
      [ngClass]="{
                          'checked': completedReverseLeft
                       }"
    >
      <span id="legal-requirements-tick-reverse" class="tickwrapper">
        <tick-indicator [ticked]="completedReverseLeft"></tick-indicator>
      </span>
    </competency-button>
  </ion-col>
  <ion-col size="4" class="ion-no-padding">
    <button
      (click)="togglePopoverDisplay()"
      [class.promoted]="displayPopover"
      [ngClass]="{
        'fault': drivingFaults > 0,
        'serious-fault': hasSeriousFault,
        'dangerous-fault': hasDangerousFault
      }"
    >
      <driving-faults-badge class="driving-faults" [count]="drivingFaults"></driving-faults-badge>

      <div class="label-wrapper">
        <ion-icon class="popover-arrow" [class.arrow-down]="displayPopover" name="caret-forward-outline"></ion-icon>
        <span id="reverse-left-label">Reverse</span>
      </div>

      <div class="fault-wrapper">
        <serious-fault-badge [showBadge]="hasSeriousFault"></serious-fault-badge>
        <dangerous-fault-badge [showBadge]="hasDangerousFault"></dangerous-fault-badge>
      </div>
    </button>
  </ion-col>
</ion-row>

<div class="reverse-left-popover" *ngIf="displayPopover">
  <ion-grid>
    <ion-row>
      <ion-col>
        <ng-content></ng-content>
      </ion-col>
    </ion-row>
  </ion-grid>
</div>
