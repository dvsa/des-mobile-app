<ion-card>
  <ion-card-header>
    <h2 class="des-header-style-4" id="view-test-result-debrief-title">Debrief</h2>
  </ion-card-header>
  <ion-card-content>
    <ion-grid>
      @if (!isMod1() && showTestRequirement()) {
<data-row-with-list
       
        [label]="'Test requirements'"
        [data]="testRequirements">
      </data-row-with-list>
}

      @if (showHighwayCode()) {
<data-row-with-list
       
        [label]="'Highway code / Safety'"
        [data]="highwayCode">
      </data-row-with-list>
}

      @if (!hideManoeuvre()) {
<data-row
       
        [label]="'Manoeuvre'"
        [value]="manoeuvre">
      </data-row>
}

      @if (isCatB()) {
<data-row
       
        [label]="'Manoeuvre(s)'"
        [value]="getFlattenArray(getManoeuvres())">
      </data-row>
}

      @if (showControlledStop()) {
<data-row-with-list
       
        [label]="'Controlled Stop'"
        [data]="controlledStop">
      </data-row-with-list>
}

      @if (!isMod1()) {
<data-row-custom
       
        [shouldHaveSeperator]="true"
        [centeredLabel]="false"
        [label]="'ECO'">
        @for (item of eco; track item) {
  <ion-row>
          <ion-col [ngClass]="accessibilityService.getTextZoomClass()" class="list-max-height flex-center ion-align-items-center" size="7">
            <div>
              <tick-indicator [ticked]="item.checked"></tick-indicator>
            </div>
          </ion-col>
          <ion-col>
            <span class="mes-data">{{ item.label }}</span>
          </ion-col>
        </ion-row>
}
        @if (isCatADI2()) {
<ion-row class="fuel-efficient-text">
          <label>Fuel efficient driving fault - {{data.eco.fuelEfficientDriving ? 'Yes' : 'No' }}</label>
        </ion-row>
}
        @if (ecoFault) {
<ion-row>
          <ion-col class="flex-center ion-align-items-center" size="7">
            <div>
              <driving-faults-badge [count]="1"></driving-faults-badge>
            </div>
          </ion-col>
          <ion-col>
            <ion-row>
              <ion-col>
                <span class="mes-data">
                  {{ ecoFault.competencyDisplayName }}
                </span>
              </ion-col>
            </ion-row>
            <ion-row>
              <ion-col>
                <span class="mes-data">- {{data.eco.ecoCaptureReason}}</span>
              </ion-col>
            </ion-row>
          </ion-col>
        </ion-row>
}

      </data-row-custom>
}

      <faults-data-row
        [label]="'Fault descriptions'"
        [minDrivingFaultCount]="getMinDrivingFaultCount()"
        [isRider]="isRider()"
        [testCategory]="category"
        [drivingFaults]="drivingFaults"
        [seriousFaults]="seriousFaults"
        [dangerousFaults]="dangerousFaults"
        [drivingFaultCount]="drivingFaultCount">
      </faults-data-row>

      <data-row
        [label]="'ETA'"
        [value]="eTA"
        [shouldHaveSeperator]="ETASeparator()">
      </data-row>

      @if (!delegatedTest && !isMod1() && !isMod2()) {
<vehicle-checks-data-row
       
        [label]="'Tell me question(s)'"
        [data]="tellMeQuestions">
      </vehicle-checks-data-row>
}

      @if (!delegatedTest && !isMod1() && !isMod2()) {
<vehicle-checks-data-row
       
        [shouldHaveSeperator]="isValidEmergencyStopOrAvoidance() || isCatD()"
        [label]="'Show me question(s)'"
        [data]="showMeQuestions">
      </vehicle-checks-data-row>
}

      @if (isValidEmergencyStopOrAvoidance()) {
<speed-card
       
        [emergencyStop]="data['emergencyStop']"
        [avoidance]="data['avoidance']"
        [shouldHaveSeperator]="false">
      </speed-card>
}

      @if (isCatD()) {
<safety-question-data-row
       
        [label]="'Safety question(s)'"
        [data]="safetyQuestionsCatD"
        [shouldHaveSeperator]="false">
      </safety-question-data-row>
}

      @if (isMod2()) {
<safety-and-balance-data-row
       
        [label]="'Safety question(s)'"
        [data]="safetyQuestions"
        [shouldHaveSeperator]="false">
      </safety-and-balance-data-row>
}

      @if (isMod2()) {
<safety-and-balance-data-row
       
        [label]="'Balance question'"
        [data]="balanceQuestions"
        [shouldHaveSeperator]="false">
      </safety-and-balance-data-row>
}
    </ion-grid>
  </ion-card-content>
</ion-card>
